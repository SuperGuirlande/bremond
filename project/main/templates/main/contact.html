{% extends 'main/base.html' %}
{% load static %}
{% load custom_tags %}

{% block title %}Contact - Bremond Rénovation{% endblock %}

{% block extra_head %}
<style>
    input, textarea {
        width: 100% !important;
        padding: 0.75rem 1rem !important;
        border: 1px solid #e5e7eb !important;
        border-radius: 0.375rem !important;
        transition: all 0.2s !important;
    }

    input:focus, textarea:focus {
        outline: none !important;
        border-color: var(--ocre) !important;
        box-shadow: 0 0 0 3px rgba(200, 169, 119, 0.2) !important;
    }

    textarea {
        min-height: 150px;
        resize: vertical;
    }
</style>
{% include 'main/base_meta.html' %}
{% endblock %}


{% block content %}
<!-- HERO SECTION -->
<section class="min-h-[40vh] bg-granit flex relative pt-40 pb-28">
    <div class="container mx-auto flex flex-col justify-center">
        <div class="text-center my-12">
            <h1 class="gilda text-4xl sm:text-5xl md:text-6xl lg:text-7xl blanc mb-4"
            data-aos="fade-in" data-aos-duration="1500">
                Faites vivre votre projet
            </h1>
            <h2 class="alex blanc text-3xl sm:text-4xl md:text-5xl font-light max-w-3xl mx-auto"
            data-aos="fade-in" data-aos-duration="1500" data-aos-delay="200">
                Chaque projet est unique et mérite une attention particulière
            </h2>
        </div>
    </div>
</section>

<!-- ENGAGEMENT SECTION -->
<section class="py-16 bg-blanc">
    <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center mb-16">
            <h3 class="text-2xl sm:text-3xl terre playfair mb-8">Notre Engagement envers Vous</h3>
            <p class="text-lg sm:text-xl granit leading-relaxed raleway">
                Que vous ayez un projet de rénovation précis ou simplement des questions sur la restauration de votre patrimoine, 
                notre équipe prend le temps de vous écouter et de vous conseiller. Nous vous répondons sous 48h ouvrées avec 
                une première estimation ou un rendez-vous pour étudier votre projet en détail.
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
            <div class="text-center p-6 bg-pierre rounded-lg shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 mx-auto mb-4 terre" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                </svg>
                <h4 class="text-xl font-semibold mb-2 granit">Devis Détaillé Gratuit</h4>
                <p class="terre">Étude approfondie de votre projet avec des solutions adaptées à votre budget</p>
            </div>
            
            <div class="text-center p-6 bg-pierre rounded-lg shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 mx-auto mb-4 terre" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <h4 class="text-xl font-semibold mb-2 granit">Réactivité Garantie</h4>
                <p class="terre">Réponse sous 48H ouvrées pour toute demande de contact</p>
            </div>
            
            <div class="text-center p-6 bg-pierre rounded-lg shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 mx-auto mb-4 terre" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" />
                </svg>
                <h4 class="text-xl font-semibold mb-2 granit">Conseil Personnalisé</h4>
                <p class="terre">Expertise technique et recommandations adaptées à votre patrimoine</p>
            </div>
        </div>
    </div>
</section>

<!-- CONTACT SECTION -->
<section class="min-h-screen bg-blanc pt-8 pb-16">
    <div class="container mx-auto max-w-[1280px]">
        <div class="flex justify-evenly gap-8 flex-wrap"
        data-aos="fade-in" data-aos-duration="2000">
            <!-- GAUCHE INFOS -->
            <div class="basis-[350px] shrink grow mx-4 sm:mx-0 sm:grow-0 xl:grow sm:shrink-0 sm:basis-[500px] bg-pierre p-8 shadow-xl rounded-lg">
                <h2 class="granit text-center playfair text-4xl mb-8">Nos Coordonnées</h2>
                <div class="inter font-light text-lg sm:text-xl terre space-y-8">
                    <div class="flex items-start gap-4">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mt-1 flex-shrink-0">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
                        </svg>
                        <div>
                            <p class="font-medium mb-1">Notre Atelier</p>
                            <p>14 rue de la salamandre<br>17520 Lonzac</p>
                            <p class="text-base mt-2 granit">Interventions en Charente et Charente-Maritime</p>
                        </div>
                    </div>

                    <div class="flex items-start gap-4">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mt-1 flex-shrink-0">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" />
                        </svg>
                        <div>
                            <p class="font-medium mb-1">Contactez-nous</p>
                            <p>Alexis : 06 43 41 45 87<br>Émilie : 07 69 55 08 96</p>
                            <p class="text-base mt-2 granit">Du lundi au vendredi, 8h-18h</p>
                        </div>
                    </div>

                    <div class="flex items-start gap-4">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mt-1 flex-shrink-0">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
                        </svg>
                        <div>
                            <p class="font-medium mb-1">Par Email</p>
                            <p>bremondrenovation@gmail.com</p>
                            <p class="text-base mt-2 granit">Réponse sous 48h ouvrées</p>
                        </div>
                    </div>

                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2791.731418683104!2d-0.3902682999999999!3d45.5959437!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8184f6bcc1dbe611%3A0x76b4635467cee0c4!2sSARL%20BREMOND%20R%C3%A9novation!5e0!3m2!1sfr!2sfr!4v1731327150844!5m2!1sfr!2sfr" 
                    height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"
                    class="w-full mt-8 rounded-lg"></iframe>
                </div>
            </div>

            <!-- DROITE FORM -->
            <div class="basis-[350px] shrink grow mx-4 sm:mx-0 sm:grow-0 xl:grow sm:shrink-0 sm:basis-[500px] bg-pierre p-8 shadow-xl rounded-lg relative">
                <div class="absolute -translate-y-32" id="formulaire"></div>
                <h2 class="granit text-center playfair text-4xl mb-4">Votre Projet</h2>
                <p class="text-center terre mb-8">Décrivez-nous votre projet ou vos questions, nous vous répondrons dans les plus brefs délais</p>
                
                <!-- FORMULAIRE -->
                <form method="post" class="flex flex-col gap-6" action="#formulaire">
                    {% csrf_token %}

                    <!-- ALERTS -->
                    {% if request.session.success %}
                    <div class="w-full bg-green-100 border-l-4 border-green-500 rounded-md p-4">
                        <div class="flex items-center">
                            <div class="flex-shrink-0">
                                <svg class="h-5 w-5 text-green-500" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div class="ml-3">
                                <p class="text-green-700 font-medium">{{ request.session.success }}</p>
                            </div>
                        </div>
                    </div>
                    {% clear_session_message 'success' %}
                    {% elif request.session.alert %}
                    <div class="w-full bg-red-100 border-l-4 border-red-500 rounded-md p-4">
                        <div class="flex items-center">
                            <div class="flex-shrink-0">
                                <svg class="h-5 w-5 text-red-500" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div class="ml-3">
                                <p class="text-red-700 font-medium">{{ request.session.alert }}</p>
                            </div>
                        </div>
                    </div>
                    {% clear_session_message 'alert' %}
                    {% endif %}

                    <!-- FORM FIELDS -->
                    <div class="flex flex-wrap gap-5">
                        <div class="basis-[200px] grow">
                            {{form.first_name}}
                            {% for error in form.first_name.errors %}
                                <p class="text-red-500 text-sm mt-1">{{error}}</p>
                            {% endfor %}
                        </div>
                        <div class="basis-[200px] grow">
                            {{form.last_name}}
                            {% for error in form.last_name.errors %}
                                <p class="text-red-500 text-sm mt-1">{{error}}</p>
                            {% endfor %}
                        </div>
                    </div>

                    <div class="flex flex-wrap gap-5">
                        <div class="basis-[200px] grow">
                            {{form.email}}
                            {% for error in form.email.errors %}
                                <p class="text-red-500 text-sm mt-1">{{error}}</p>
                            {% endfor %}
                        </div>
                        <div class="basis-[200px] grow">
                            {{form.phone}}
                            {% for error in form.phone.errors %}
                                <p class="text-red-500 text-sm mt-1">{{error}}</p>
                            {% endfor %}
                        </div>
                    </div>

                    <div class="w-full">
                        {{form.message}}
                        {% for error in form.message.errors %}
                            <p class="text-red-500 text-sm mt-1">{{error}}</p>
                        {% endfor %}
                    </div>

                    <button type="submit" class="py-3 px-6 bg-ocre text-white text-xl playfair tracking-wider hover:bg-amber-900 shadow-md hover:shadow-xl transition-all duration-300 ease-in-out self-center">
                        Envoyer votre Message
                    </button>

                    <p class="text-sm granit text-center mt-4">
                        En soumettant ce formulaire, vous acceptez d'être recontacté(e) par notre équipe pour étudier votre projet
                    </p>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- FAQ SECTION -->
<section class="bg-blanc pb-16">
    <div class="container mx-auto px-4">
        <div class="max-w-3xl mx-auto">
            <h3 class="text-3xl terre playfair text-center mb-12">Questions Fréquentes</h3>
            
            <div class="space-y-6">
                <div class="bg-pierre p-6 rounded-lg shadow-md">
                    <h4 class="text-xl granit font-medium mb-3">Dans quelle zone intervenez-vous ?</h4>
                    <p class="terre">Nous intervenons principalement en Charente et Charente-Maritime. Selon l'ampleur du projet, nous pouvons également nous déplacer dans les départements limitrophes.</p>
                </div>
                
                <div class="bg-pierre p-6 rounded-lg shadow-md">
                    <h4 class="text-xl granit font-medium mb-3">Comment se déroule un premier rendez-vous ?</h4>
                    <p class="terre">Après votre prise de contact, nous convenons d'un rendez-vous sur site pour évaluer vos besoins. Cette première visite est gratuite et nous permet d'établir un devis détaillé adapté à votre projet.</p>
                </div>
                
                <div class="bg-pierre p-6 rounded-lg shadow-md">
                    <h4 class="text-xl granit font-medium mb-3">Quels types de devis proposez-vous ?</h4>
                    <p class="terre">Nos devis sont gratuits, détaillés et comprennent une description précise des travaux, les matériaux utilisés, les délais estimés et le coût total. Nous pouvons également proposer plusieurs options selon votre budget.</p>
                </div>
                
                <div class="bg-pierre p-6 rounded-lg shadow-md">
                    <h4 class="text-xl granit font-medium mb-3">Êtes-vous assurés pour les travaux ?</h4>
                    <p class="terre">Oui, notre entreprise est couverte par une assurance décennale et responsabilité civile professionnelle. Nous vous fournissons les attestations avec le devis.</p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}